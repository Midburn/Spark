extends ../../includes/page
block content
    input.hidden.meta(id='meta__lang', value='#{language}')
    input.hidden.meta(id='meta__event_name_en', value='#{event.event_name_en}')
    input.hidden.meta(id='meta__event_id', value='#{event.id}')
    //- input.hidden.meta(id='meta__grouptype', value='#{camp.__prototype}')
    .camps.camp_edit(ng-app="ngCamps", ng-controller="campEditController")
        script.
            var groups_prototype="#{__groups_prototype}";
        .heading.card.card__shad
            .card__actions
                if(isCamp)
                    .dropdown
                        a.Btn.btn-default(href='/#{language}/camps/#{event.id}')=t('camps:edit.view')
            if(isNew)
                h2=t('events:new.header_title')
                h4=t('events:new.header_desc')
            else
                if(event_name = language.includes('he') ? event.event_name_he : event.event_name_en )
                span.label.label-info #{t(t_prefix+'edit.camp')} # #{event.id}
                h2 #{t('event:edit.title')}: #{event_name}
                h6 #{t('event:edit.since')}: #{event.created_at}
        .controls.row
            .col-xs-12
                //- Card switcher
                button.Btn.Btn__default.card-switcher#1=t('events:edit.basic_info')
        .cards--wrapper.card__shad
            //- Card 1
            .card.card-first
                h4=t('events:edit.name_and_discription')
                .camp-info.panel
                    .panel-body
                        .details-he.col-md-6
                            .col-xs-12
                                label(for='event_name_he')=t('events:edit.name_he')
                                input.form-control(id='event_name_he', dir='rtl', name='event_name_he', value=(isNew ? '' : '#{event.event_name_he}'))
                            .col-xs-12
                                label(for='event_desc_he')=t('events:edit.desc_he')
                                input.form-control(id='event_desc_he', dir='rtl', name='event_desc_he', value=(isNew ? '' : '#{event.event_desc_he}'))
                            .col-xs-12
                                label(for='event_id')=t('events:edit.id')
                                input.form-control(id='event_id', dir='ltr', name='event_id', value=(isNew ? '' : '#{event.id}'))
                            .col-xs-12
                                label(for='start_date')=t('events:edit.start_date')
                                input.form-control(type='date' id='start_date', dir='ltr', name='start_date', value=(isNew ? '' : '#{event.startDate}'))
                            .col-xs-12
                                label(for='start_presale_tickets')=t('events:edit.start_presale_tickets')
                                input.form-control(type='date' id='start_presale_tickets', dir='ltr', name='start_presale_tickets', value=(isNew ? '' : '#{event.startPresaleTickets}'))
                            .col-xs-12
                                label(for='tickets_info')=t('events:edit.tickets_info')
                                input.form-control(id='tickets_info', dir='ltr', name='tickets_info', value=(isNew ? '' : '#{event.ticketsInfo}'))
                            .col-xs-12
                                label(for='community_camps')=t('events:edit.community_camps')
                                input.form-control(type="checkbox" id='community_camps', dir='ltr', name='community_camps', value='true', checked=(isNew ? undefined : event.communityCamps ? "checked" : undefined) )
                                label(for='community_art_installation')=t('events:edit.community_art_installation')
                                input.form-control(type="checkbox" id='community_art_installation', dir='ltr', name='community_art_installation', value='true'  checked=(isNew ? undefined : event.communityArtInstallation ? "checked" : undefined) )
                                label(for='community_prod_dep')=t('events:edit.community_prod_dep')
                                input.form-control(type="checkbox" id='community_prod_dep', dir='ltr', name='community_prod_dep', value='true' checked=(isNew ? undefined :event.communityProdDep ? "checked" : undefined))

                        .details-en.col-md-6
                            .col-xs-12
                                label(for='event_name_en')=t('events:edit.name_en')
                                input.form-control(id='event_name_en', dir='ltr', name='event_name_en', value=(isNew ? '' : '#{event.event_name_en}'))
                            .col-xs-12
                                label(for='event_desc_en')=t('events:edit.desc_en')
                                input.form-control(id='event_desc_en', dir='ltr', name='event_desc_en', value=(isNew ? '' : '#{event.event_desc_en}') )
                            .col-xs-12
                                label(for='previous_event_id')=t('events:edit.previous_event_id')
                                input.form-control(id='previous_event_id', dir='ltr', name='event_id', value=(isNew ? '' : '#{event.previousEventId}') )       
                            .col-xs-12
                                label(for='end_date')=t('events:edit.end_date')
                                input.form-control(type='date' id='end_date', dir='ltr', name='end_date', value=(isNew ? '' : '#{event.endDate}'))
                            .col-xs-12
                                label(for='end_presale_tickets')=t('events:edit.end_presale_tickets')
                                input.form-control(type='date' id='end_presale_tickets', dir='ltr', name='end_presale_tickets', value=(isNew ? '' : '#{event.endPresaleTickets}'))
                            .col-xs-12
                                label(for='url')=t('events:edit.url')
                                input.form-control(id='url', dir='ltr', name='url', value=(isNew ? '' : '#{event.url}'))
                            
                    .modal-footer
                        button.Btn.Btn__transparent(id='create_camp_close_btn', type='button', data-dismiss='modal')=t('events:new.close')
                        button.Btn.Btn__green(id='event_create_save_modal_request', type='button')=t('events:new.send_request')
