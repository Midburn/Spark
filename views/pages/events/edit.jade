extends ../../includes/page
block scripts
    script(src="/scripts/controllers/events.js")
block content
    script.
        var isNew=false
        var editEvent ={
            //passing server edit event object to the client editEvent object and AngularJS controller.
            event_id: '#{event.event_id}',
            ext_id_event_id: '#{event.ext_id_event_id}',
            name: '#{event.name}',
            gate_code: parseInt('#{event.gate_code}'),
            gate_status: '#{event.gate_status}',
            addinfo_json: {
                name_he: '#{event.addinfo_json.name_he}',
                name_en: '#{event.addinfo_json.name_en}',
                desc_he: '#{event.addinfo_json.desc_he}',
                desc_en: '#{event.addinfo_json.desc_en}',
                event_type: '#{event.addinfo_json.event_type}',
                start_date: new Date('#{event.addinfo_json.start_date}'),
                end_date: new Date('#{event.addinfo_json.end_date}'),
                start_presale_tickets: new Date('#{event.addinfo_json.start_presale_tickets}'),
                end_presale_tickets: new Date('#{event.addinfo_json.end_presale_tickets}'),
                tickets_info: '#{event.addinfo_json.tickets_info}',
                community_camps: '#{event.addinfo_json.community_camps}' === true,
                community_art_installation: '#{event.addinfo_json.community_art_installation}' === true,
                community_prod_dep: '#{event.addinfo_json.community_prod_dep}' === true,
                url: '#{event.addinfo_json.url}'
            }
        }
    div( ng-app="ngEvents")
        .heading.card.card__shad
                span.label.label-info # #{event.event_id}
                h2 #{t('events:edit.title')}: #{event.name}
                h6 #{t('events:edit.since')}: #{event.addinfo_json.created_at}
        .cards--wrapper.card__shad
            //- Card 1
            .card.card-first
                h4=t('events:edit.name_and_discription')
                    .event-info.panel
                        .panel-body
                            include partials/form