extends ../includes/layout

block wrapper
    script(src="https://www.google.com/recaptcha/api.js?hl=#{language}")
    br
    .col-md-4.col-md-offset-4.well
        .midburn_logo

        h2=t('sign_up')

        if (errorMessage && errorMessage.length > 0)
            .alert.alert-danger
                p=errorMessage

        if (errorMessageResource && errorMessageResource.length > 0)
            .alert.alert-danger
                p=t(errorMessageResource)


        form( action="signup", method="post", data-toggle="validator", role="form" )
            .form-group
                label=t('email')
                input( type="email", class="form-control", name="email", value="#{body && body.email || ''}", data-error="#{t('bad_email')}", required )
                .help-block.with-errors
            .form-group
                label=t('password')
                input( type="password", class="form-control", name="password", id="password", data-minlength='6', data-error="#{t('minimum_password', {'length': 6})}", required )
                .help-block.with-errors
            .form-group
                label=t('confirm_password')
                input( type="password", class="form-control", name="confirm_password", id="confirm_password",
                data-match="#password", data-match-error="#{t('password_mismatch')}", data-error="#{t('mandatory_field')}", required )
                .help-block.with-errors
            .form-group
                label=t('first_name')
                input( type="text", class="form-control", name="first_name", value="#{body && body.first_name || ''}", data-error="#{t('mandatory_field')}", required )
                .help-block.with-errors
            .form-group
                label=t('last_name')
                input( type="text", class="form-control", name="last_name", value="#{(body && body.last_name)||''}", data-error="#{t('mandatory_field')}", required )
                .help-block.with-errors
            .form-group
                label=t('gender')
                br
                label
                    input(type="radio", name="gender", value="male", required, checked=(body && body.gender==='male') ,data-error="#{t('gender_error')}" )
                    | &nbsp; #{t('male')}
                | &nbsp;
                label
                    input(type="radio", name="gender", value="female", required,  checked=(body && body.gender==='female'), data-error="#{t('gender_error')}")
                    | &nbsp; #{t('female')}
                | &nbsp;
                label
                    input(type="radio", name="gender", value="other", required, checked=(body && body.gender==='other'), data-error="#{t('gender_error')}")
                    | &nbsp; #{t('other')}
                .help-block.with-errors
            .form-group
                div( class="g-recaptcha" data-sitekey=recaptcha_sitekey)
            .text-center
                button( type="submit", class="btn btn-info" )=t('sign_up')
                hr
                p
                    a( href="/he/signup" )
                        img( src="/images/flags/he.gif" )
                    | &nbsp;
                    a( href="/en/signup" )
                        img( src="/images/flags/en.gif" )



